<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Encriptador</title>
        <link rel="stylesheet" href="estilo.css" >
    </head>
    <body>
        <div class="titulo">
            <img src="Logo.png" alt="Logo Miguel" class="logo">
            <h1 class="tit">Encriptador</h1>
        </div>
        <div class="encrip">
            <form action="" class="formulario">
                <textarea placeholder="Ingrese el texto a encriptar" class="textEncriptar" id="txtEncriptar"></textarea>
                <input class="boton" type="button" value="Encriptar" id="encriptar" name="encriptar" onclick="procesoEncriptar()">
                <input class="boton" type="button" value="Desencriptar" id="desencriptar" name="desencriptar" onclick="procesoDesencriptar()">
                <input class="boton" type="button" value="Historial" id="Historial" name="Historial" onclick="historial()">
                <input class="boton" type="button" value="Limpiar" id="Limpiar" name="Limpiar" onclick="limpiar()">
            </form>
            <textarea placeholder="NingÃºn mensaje fue encontrado" class="text" id="txtDesencriptar"></textarea>
        </div>
        <script>
            const letra=[['a','ai'],['e','enter'],['i','imes'],['o','ober'],['u','ufat']]
            var Historial=[]

            function procesoEncriptar() {
                event.preventDefault();
                var texto= document.getElementById("txtEncriptar").value.toLowerCase();
                var textoEncriptado= document.getElementById("txtDesencriptar");
                texto.toString();
                var vector= texto.split('');
                for(var i=0;i<vector.length;i++){
                    for(var j=0;j<letra.length;j++){
                        if(vector[i]==letra[j][0]){
                            vector[i]=letra[j][1];
                        }
                    }
                }
                var resultado= ''.concat(...vector);
                textoEncriptado.value=resultado;
                Historial.push(texto.toString());
            }

            function desencriptar(texto) {
                return texto
                .replace(/enter/g, "e")
                .replace(/imes/g, "i")
                .replace(/ai/g, "a")
                .replace(/ober/g, "o")
                .replace(/ufat/g, "u");
            }

            function procesoDesencriptar() {
                event.preventDefault();
                var textoEncriptado= document.getElementById("txtDesencriptar");
                var resultado= desencriptar(textoEncriptado.value);
                textoEncriptado.value=resultado;
            }

            function limpiar() {
                event.preventDefault();
                var texto= document.getElementById("txtEncriptar");
                var textoEncriptado= document.getElementById("txtDesencriptar");
                texto.value=" ";
                textoEncriptado.value=" ";
            }

            function historial(){
                event.preventDefault();
                textoHistorial=""
                var textoEncrip= document.getElementById("txtEncriptar");
                for(var i=0;i<Historial.length;i++){
                    textoHistorial+=Historial[i]+"\n";
                }
                textoEncrip.value=textoHistorial
            }
            

        </script>
    </body>
    

</html>